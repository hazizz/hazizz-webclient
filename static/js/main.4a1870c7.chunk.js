(this["webpackJsonphazizz-webclient"]=this["webpackJsonphazizz-webclient"]||[]).push([[0],{43:function(e,t,n){e.exports=n.p+"static/media/logo.13001b87.png"},44:function(e,t,n){e.exports=n(73)},72:function(e,t,n){},73:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(13),c=n.n(o),l=n(15),i=n(10),s=n(7),u=Object(s.b)((function(e){return{authenticated:e.auth.token.length>0}}))((function(e){var t=e.exact,n=void 0!==t&&t,a=e.path,o=e.Component,c=e.render,l=void 0===c?function(){return null}:c,s=e.authenticated,u=void 0!==s&&s,m=r.a.createElement(i.b,{exact:n,path:a,component:o,render:function(){return l()}});return u||(m=r.a.createElement(i.a,{to:"/authenticate"})),m})),m=n(11),p=n(39);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(n,!0).forEach((function(t){Object(p.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var b={token:"",refresh:"",expires_in:0,expire_on:0};Number(localStorage.getItem("expire_on"))>Number(new Date)&&(b.token=localStorage.getItem("token")||"",b.refresh=localStorage.getItem("refresh")||"",b.expires_in=Number(new Date(Number(localStorage.getItem("expire_on"))))-Number(new Date),b.expire_on=Number(localStorage.getItem("expire_on")));var g=Object(m.combineReducers)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SAVE_TOKEN":var n=t.payload,a=n.token,r=n.refresh,o=n.expires_in;return localStorage.setItem("token",a),localStorage.setItem("refresh",r),localStorage.setItem("expire_on",(new Date).setSeconds((new Date).getSeconds()+o).toString()),h({},e,{token:a,refresh:r,expires_in:o});default:return e}}}),f=n(40),k=Object(m.createStore)(g,Object(f.composeWithDevTools)()),v=n(16),E=n(17),O=n(19),j=n(18),y=n(20),z=n(21),N=n.n(z),_=N.a.create({baseURL:"https://hazizz.duckdns.org:9000/auth-server",timeout:2e3,headers:{"Content-Type":"application/json"}}),D=N.a.create({baseURL:"https://hazizz.duckdns.org:9000/hazizz-server",timeout:3e3,headers:{"Content-Type":"application/json"}}),w=(N.a.create({baseURL:"https://hazizz.duckdns.org:9000/thera-server",timeout:2e3,headers:{"Content-Type":"application/json"}}),function(e){return r.a.createElement("div",{className:"groupLabel"},"N\xe9v: ",r.a.createElement("span",{className:"groupName"},e.name),"\xa0 L\xe9tsz\xe1m: ",r.a.createElement("span",{className:"groupUserCount"},e.userCount))}),S=function(){return r.a.createElement("div",{className:"spinner"},"Bet\xf6lt\xe9s")},x=function(e){function t(e){var n;return Object(v.a)(this,t),(n=Object(O.a)(this,Object(j.a)(t).call(this,e))).state={render:r.a.createElement(S,null)},n}return Object(y.a)(t,e),Object(E.a)(t,[{key:"componentDidMount",value:function(){var e=this;D({url:"/me/groups",headers:{Authorization:"Bearer "+this.props.token}}).then((function(t){var n=t.data;e.setState({render:n.map((function(e){return r.a.createElement(w,{key:e.id,name:e.name,userCount:e.userCount})}))})}))}},{key:"render",value:function(){return r.a.createElement("section",{className:"groupSection"},"Csoportjaid: ",this.state.render)}}]),t}(a.Component),C=Object(s.b)((function(e){return{token:e.auth.token}}))(x),I=n(26),T=n.n(I),M=function(e){return r.a.createElement("div",{className:"taskLabel"},r.a.createElement("h1",null,r.a.createElement("span",null,e.title),r.a.createElement("span",null,e.dueDate,"\xa0",r.a.createElement("input",{checked:e.completed,disabled:!0,title:"Fejleszt\xe9s alatt!",type:"checkbox",name:"completed",id:"completed"+e.title}))),r.a.createElement("p",null,e.children),r.a.createElement("div",{className:"taskDetails"},r.a.createElement("p",null,"L\xe9trehozta: ",e.creator),r.a.createElement("p",null,"Csoport: ",e.group),r.a.createElement("p",null,"T\xe9ma: ",e.subject),r.a.createElement("p",null,"C\xedmk\xe9k (kidolgoz\xe1s alatt): ",e.tags)))},L=function(e){function t(e){var n;return Object(v.a)(this,t),(n=Object(O.a)(this,Object(j.a)(t).call(this,e))).state={render:r.a.createElement(S,null)},n}return Object(y.a)(t,e),Object(E.a)(t,[{key:"componentDidMount",value:function(){var e=this;D({url:"/v2/me/tasks",headers:{Authorization:"Bearer "+this.props.token},params:{showThera:!0,unfinishedOnly:!1,finishedOnly:!1,startingDate:T()().format("YYYY-MM-DD"),endDate:T()().add(1,"M").format("YYYY-MM-DD")}}).then((function(t){var n=t.data;e.setState({render:n.map((function(e){return r.a.createElement(M,{key:e.id,completed:e.completed,creator:e.creator.displayName,dueDate:e.dueDate,group:e.group.name,subject:e.subject.name,tags:e.tags,title:e.title},e.description)}))})}))}},{key:"render",value:function(){return r.a.createElement("section",{className:"taskList"},this.state.render)}}]),t}(a.Component),P=Object(s.b)((function(e){return{token:e.auth.token}}))(L),Y=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(C,{isMobile:!1}),r.a.createElement(P,{isMobile:!1}))},H=n(41),B=n.n(H),A=n(42),J=n.n(A),R=n(43),U=n.n(R),F=Object(s.b)(null,{saveToken:function(e,t,n){return{type:"SAVE_TOKEN",payload:{token:e,refresh:t,expires_in:n}}}})((function(e){var t=Object(i.g)(),n=(Object(i.h)().state||{from:{pathname:"/home"}}).from,a=function(a){_({url:"/auth",method:"post",params:{grant_type:"google_openid",openid_token:a.tokenId,client_id:"H_MINDENHOL"}}).then((function(a){var r=a.data;e.saveToken(r.token,r.refresh,r.expires_in),t.replace(n)}))};return r.a.createElement("div",{className:"authPage"},r.a.createElement("div",null,r.a.createElement("img",{src:U.a,alt:"H\xe1zizz logo",className:"logo"}),r.a.createElement("h1",null,"Jelentkezz be!"),r.a.createElement("p",null,"Haszn\xe1ld a k\xf6z\xf6ss\xe9gi bejelentkez\xe9sek egyik\xe9t:"),r.a.createElement("div",null,r.a.createElement(J.a,{appId:"737993926628989",fields:"email",callback:function(a){console.log(JSON.stringify(a)),_({url:"/auth",method:"post",params:{grant_type:"facebook_token",facebook_token:a.accessToken,client_id:"H_MINDENHOL"}}).then((function(a){var r=a.data;e.saveToken(r.token,r.refresh,r.expires_in),t.replace(n)}))},size:"small"}),r.a.createElement(B.a,{clientId:"425675787763-751dukg0oookea8tltaeboudlg0g555q.apps.googleusercontent.com",onSuccess:a,onFailure:a,scope:"openid",className:"google_login_button"}))))}));n(72),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var W=r.a.createElement(s.a,{store:k},r.a.createElement(l.a,null,r.a.createElement(i.a,{to:"/home"}),r.a.createElement(i.d,null,r.a.createElement(u,{path:"/home",Component:Y}),r.a.createElement(i.b,{path:"/authenticate",component:F}))));c.a.render(W,document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[44,1,2]]]);
//# sourceMappingURL=main.4a1870c7.chunk.js.map