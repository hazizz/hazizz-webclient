(this["webpackJsonphazizz-webclient"]=this["webpackJsonphazizz-webclient"]||[]).push([[0],{37:function(e,t,n){e.exports=n.p+"static/media/logo.13001b87.png"},38:function(e,t,n){e.exports=n(66)},65:function(e,t,n){},66:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(13),c=n.n(o),i=n(15),l=n(9),s=n(11),p=Object(s.b)((function(e){return{authenticated:e.auth.token.length>0}}))((function(e){var t=e.exact,n=void 0!==t&&t,r=e.path,o=e.Component,c=e.render,i=void 0===c?function(){return null}:c,s=e.authenticated,p=void 0!==s&&s,u=a.a.createElement(l.b,{exact:n,path:r,component:o,render:function(){return i()}});return p||(u=a.a.createElement(l.a,{to:"/authenticate"})),u})),u=n(10),m=n(33);function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(n,!0).forEach((function(t){Object(m.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var g={token:"",refresh:"",expires_in:0,expire_on:0};Number(localStorage.getItem("expire_on"))>Number(new Date)&&(g.token=localStorage.getItem("token")||"",g.refresh=localStorage.getItem("refresh")||"",g.expires_in=Number(new Date(Number(localStorage.getItem("expire_on"))))-Number(new Date),g.expire_on=Number(localStorage.getItem("expire_on")));var f=Object(u.combineReducers)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SAVE_TOKEN":var n=t.payload,r=n.token,a=n.refresh,o=n.expires_in;return localStorage.setItem("token",r),localStorage.setItem("refresh",a),localStorage.setItem("expire_on",(new Date).setSeconds((new Date).getSeconds()+o).toString()),d({},e,{token:r,refresh:a,expires_in:o});default:return e}}}),b=n(34),v=Object(u.createStore)(f,Object(b.composeWithDevTools)()),k=n(35),O=n.n(k),E=n(36),_=n.n(E),z=n(16),y=n.n(z),w=y.a.create({baseURL:"https://hazizz.duckdns.org:9000/auth-server",timeout:2e3,headers:{"Content-Type":"application/json"}}),j=(y.a.create({baseURL:"https://hazizz.duckdns.org:9000/hazizz-server",timeout:2e3,headers:{"Content-Type":"application/json"}}),y.a.create({baseURL:"https://hazizz.duckdns.org:9000/thera-server",timeout:2e3,headers:{"Content-Type":"application/json"}}),n(37)),S=n.n(j);var x=Object(s.b)(null,{saveToken:function(e,t,n){return{type:"SAVE_TOKEN",payload:{token:e,refresh:t,expires_in:n}}}})((function(e){var t=Object(l.g)(),n=(Object(l.h)().state||{from:{pathname:"/home"}}).from,r=function(r){w({url:"/auth",method:"post",params:{grant_type:"google_openid",openid_token:r.tokenId,client_id:"H_MINDENHOL"}}).then((function(r){var a=r.data;e.saveToken(a.token,a.refresh,a.expires_in),t.replace(n)}))};return a.a.createElement("div",{className:"authPage"},a.a.createElement("div",null,a.a.createElement("img",{src:S.a,alt:"H\xe1zizz logo",className:"logo"}),a.a.createElement("p",null,"Jelentkezz be!"),a.a.createElement("div",null,a.a.createElement(_.a,{appId:"737993926628989",fields:"email",callback:function(r){console.log(JSON.stringify(r)),w({url:"/auth",method:"post",params:{grant_type:"facebook_token",facebook_token:r.accessToken,client_id:"H_MINDENHOL"}}).then((function(r){var a=r.data;e.saveToken(a.token,a.refresh,a.expires_in),t.replace(n)}))},size:"small"}),a.a.createElement(O.a,{clientId:"425675787763-751dukg0oookea8tltaeboudlg0g555q.apps.googleusercontent.com",onSuccess:r,onFailure:r,scope:"openid"}))))}));n(65),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var N=a.a.createElement(s.a,{store:v},a.a.createElement(i.a,null,a.a.createElement(l.a,{to:"/home"}),a.a.createElement(l.d,null,a.a.createElement(p,{path:"/home",render:function(){return a.a.createElement("p",null,"Home")}}),a.a.createElement(l.b,{path:"/authenticate",component:x}))));c.a.render(N,document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[38,1,2]]]);
//# sourceMappingURL=main.0d0923d2.chunk.js.map